_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[59],{drnI:function(e,t,n){"use strict";n.r(t);var a=n("z7pX"),c=n("rg98"),o=n("vJKn"),l=n.n(o),r=n("q1tI"),i=n("g4pe"),s=n.n(i),u=n("20a2"),d=n.n(u),p=n("VlGh"),b=n("mOvS"),f=n.n(b),j=n("Y0NT"),m=n("CtXQ"),O=n("kLXV"),h=n("W9HT"),v=n("wCAj"),x=n("gFTJ"),E=n("NJEC"),y=n("KrTs"),T=n("/MKj"),S=n("xtEs"),C=n("wd/R"),_=n.n(C),A=n("WM+0"),R=n("PsDL"),g=n("Z3vd"),N=n("cVXz"),D=(n("LvDl"),n("MoW8")),w=n("fH4n"),I=n("1TCz"),L=n("nKUr"),k=f()().publicRuntimeConfig;_.a.locale("th");t.default=Object(T.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t,n=Object(r.useState)(!0),o=n[0],i=n[1],u=Object(r.useState)(200),b=u[0],f=u[1],T=Object(r.useState)(null),C=T[0],_=T[1],P=Object(r.useState)(!0),Q=P[0],U=P[1],F=Object(r.useState)([]),q=F[0],M=F[1],z=Object(r.useState)(""),H=z[0],B=z[1],W=Object(r.useState)(!0),V=W[0],Y=W[1],J=Object(r.useState)([]),K=J[0],X=J[1],G=Object(r.useState)(null),Z=G[0],$=G[1],ee=Object(r.useState)(null),te=ee[0],ne=ee[1],ae=Object(r.useState)(null),ce=ae[0],oe=ae[1],le=Object(r.useState)(!1),re=le[0],ie=le[1];function se(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(a)}Object(r.useEffect)((function(){ue()}),[H]);var ue=function(){var t=Object(c.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y(!0),U(!0),n={menu_component:Object(S.i)(d.a.pathname),req_status:H||null,today_date:se(new Date)},A.a.fetchReqLoanTrack(n).then((function(t){if(t.RESULT)M(t.REQ_LIST||[]),ie(t.IS_ATTACHFILE);else{var n=e.checkResultFalseMessage(t,{},w.a.t("DataNotFound"));(null===n||void 0===n?void 0:n.statusCode)&&f(null===n||void 0===n?void 0:n.statusCode),n&&M([])}Y(!1),U(!1),i(!1)})).catch((function(t){Y(!1),U(!1),i(!1);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&f(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&_(null===n||void 0===n?void 0:n.errData)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),de=function(){var t=Object(c.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y(!0),U(!0),a={menu_component:Object(S.i)(d.a.pathname),reqloan_doc:null===n||void 0===n?void 0:n.REQLOAN_DOC},A.a.fetchReqLoanAttachFile(a).then((function(t){if(t.RESULT)(t.ATTACHFILE_LIST||[]).length>0?(ne(t.ATTACHFILE_LIST||[]),oe(n)):Object(I.openNotification)(w.a.t("DataNotFound"),w.a.t("AttachFileNotFoundOnthisLoanReq"),"warning");else{var a=e.checkResultFalseMessage(t,{},w.a.t("DataNotFound"));(null===a||void 0===a?void 0:a.statusCode)&&f(null===a||void 0===a?void 0:a.statusCode),a&&M([])}Y(!1),U(!1),i(!1)})).catch((function(t){Y(!1),U(!1),i(!1);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&f(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&_(null===n||void 0===n?void 0:n.errData)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pe=function(){var t=Object(c.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:$(n),a={menu_component:Object(S.i)(d.a.pathname),reqloan_doc:n},A.a.cancelReqLoanTrack(a).then((function(t){if(t.RESULT)ue();else{var n=e.checkResultFalseMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&f(null===n||void 0===n?void 0:n.statusCode)}$(null)})).catch((function(t){$(null);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&f(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&_(null===n||void 0===n?void 0:n.errData)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),be=q,fe=[{title:Object(L.jsx)("div",{children:0==K.length?Object(L.jsx)(R.a,{onClick:function(){X(be.map((function(e){return e.REQLOAN_DOC})))},style:{fontSize:"1em"},children:Object(L.jsx)(m.a,{type:"plus"})}):Object(L.jsx)(R.a,{onClick:function(){X([])},style:{fontSize:"1em"},children:Object(L.jsx)(m.a,{type:"minus"})})}),width:"1%",dataIndex:"ICON",key:"ICON",align:"center",className:"col-loanreq-table-expand"}].concat(Object(a.a)(null!==(t=be[0])&&void 0!==t&&t.REQUEST_DATE?[{title:w.a.t("TransactionDate"),dataIndex:"REQUEST_DATE",key:"REQUEST_DATE",align:"center",className:"col-loanreq-table"}]:[]),[{title:w.a.t("ReqDocNo"),dataIndex:"REQLOAN_DOC",key:"REQLOAN_DOC",align:"center",className:"col-loanreq-table"},{title:w.a.t("LoanType"),dataIndex:"LOANTYPE_DESC",key:"LOANTYPE_DESC",align:"center",className:"col-loanreq-table"},{title:w.a.t("LoanAmt"),dataIndex:"REQUEST_AMT",key:"REQUEST_AMT",align:"center",render:function(e,t){return Object(L.jsx)("div",{style:{textAlign:"right"},children:Object(S.m)(e||0)})},className:"col-loanreq-table"},{title:w.a.t("Status"),dataIndex:"REQ_STATUS_DESC",key:"REQ_STATUS_DESC",align:"center",render:function(e,t){return Object(L.jsx)("span",{style:{whiteSpace:"nowrap"},className:t.REQ_STATUS<0||9==t.REQ_STATUS?"red-text":1==t.REQ_STATUS?"highlight-text":8==t.REQ_STATUS?" ":"link-text",children:e})},className:"col-loanreq-table"}]);return b>=300&&b<500?Object(L.jsx)(j.default,{statusCode:b,err:C,showModalLogout:function(){return e.showModalLogout()}}):Object(L.jsx)("div",{className:"main-layout",style:{position:"relative"},children:Object(L.jsxs)("div",{style:{width:"100%"},children:[Object(L.jsx)(p.a,{checked:!Q||!o}),Object(L.jsx)(s.a,{children:Object(L.jsx)("link",{rel:"stylesheet",href:"".concat(k.cssFolder,"/loanreqtrack.css")})}),Object(L.jsx)(O.a,{visible:!!te,width:560,footer:null,bodyStyle:{padding:"20px 0 0"},title:w.a.t("Attachment"),onCancel:function(){ne(null)},children:Object(L.jsxs)("div",{style:{padding:16},children:[Object(L.jsxs)("div",{style:{paddingBottom:16},children:[w.a.t("ReqDocNo")," : ",null===ce||void 0===ce?void 0:ce.REQLOAN_DOC]}),(te||[]).map((function(e,t){return Object(L.jsx)("div",{children:Object(L.jsxs)(g.a,{fullWidth:!0,style:{marginBottom:4,justifyContent:"space-between",borderBottom:"1px solid #e7e7e7"},onClick:function(){window.open(e.FILE_PATH)},children:[Object(L.jsxs)("div",{children:[t+1,". ",e.FILE_NAME]}),Object(L.jsx)("img",{src:e.FILE_PATH,style:{maxHeight:"2em",maxWidth:"30vw"}})]})})}))]})}),Object(L.jsx)("div",{className:"main-content",id:"main-content",style:{},children:Object(L.jsxs)("div",{className:"sub-content",children:[Object(L.jsx)(D.a,{th:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e43\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e01\u0e39\u0e49",en:"Loan Request Track"}),Object(L.jsx)("div",{style:{paddingBottom:10,textAlign:"right"},children:Object(L.jsxs)(N.a,{native:!0,value:H,onChange:function(e){B(e.target.value)},variant:"outlined",inputProps:{style:{padding:"10px 32px 10px 10px"}},children:[Object(L.jsx)("option",{value:"",children:w.a.t("All")}),Object(L.jsx)("option",{value:"8",children:w.a.t("StatusWaitAccept")}),Object(L.jsx)("option",{value:"1",children:w.a.t("StatusApprove")}),Object(L.jsx)("option",{value:"-1",children:w.a.t("StatusDisapproval")}),Object(L.jsx)("option",{value:"12",children:w.a.t("StatusReceivedLoan")}),Object(L.jsx)("option",{value:"13",children:w.a.t("StatusApproveLoanRequest")}),Object(L.jsx)("option",{value:"-9",children:w.a.t("StatusCancelFormLoanRequest")})]})}),Object(L.jsx)("div",{className:"isc-card card-shadow",style:{padding:"16px 10px",marginBottom:24},children:Object(L.jsxs)(h.a,{spinning:V,indicator:Object(L.jsx)(m.a,{type:"loading"}),tip:w.a.t("Loading"),children:[Object(L.jsx)(v.a,{className:"desc-table-assist",style:{overflow:"auto"},columns:fe,bordered:!0,expandRowByClick:!0,expandIconAsCell:!1,rowKey:function(e){return e.REQLOAN_DOC},expandedRowKeys:K,expandIcon:function(e){return e.expanded?Object(L.jsx)(R.a,{color:"primary",size:"small",style:{fontSize:"1em"},children:Object(L.jsx)(m.a,{type:"minus-square"})}):Object(L.jsx)(R.a,{size:"small",style:{fontSize:"1em"},children:Object(L.jsx)(m.a,{type:"plus-square"})})},onExpand:function(e,t){X(e?[].concat(Object(a.a)(K),[t.REQLOAN_DOC]):K.filter((function(e){return e!==t.REQLOAN_DOC})))},expandedRowRender:function(e){return Object(L.jsxs)("div",{children:[Object(L.jsxs)(x.a,{title:Object(L.jsxs)("div",{style:{paddingTop:5,display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(L.jsxs)("div",{style:{},children:[Object(L.jsxs)("div",{children:[w.a.t("Detail")," ",e.REQLOAN_DOC]}),e.REQUEST_DATE&&Object(L.jsxs)("div",{style:{fontSize:"small",color:"#aaa",fontWeight:"normal"},children:[w.a.t("TransactionDate")," :"," ",e.REQUEST_DATE]})]}),Object(L.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.CONTRACTDOC_URL&&Object(L.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(L.jsx)(g.a,{onClick:function(){window.open(e.CONTRACTDOC_URL,"_blank")},variant:"outlined",size:"small",color:"primary",style:{marginLeft:10},children:"\u0e43\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e01\u0e39\u0e49"})}),8==e.REQ_STATUS?Object(L.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(L.jsx)(E.a,{disabled:Z,icon:Object(L.jsx)(m.a,{type:"undo"}),okText:w.a.t("StatusLoanReqCancel"),cancelText:w.a.t("No"),onConfirm:function(){pe(e.REQLOAN_DOC)},okButtonProps:{type:"danger",ghost:!0},placement:"top",title:w.a.t("ConfirmCancelReq")})}):null]})]}),children:[Object(L.jsx)(x.a.Item,{label:w.a.t("LoanType"),className:"column-left",children:e.LOANTYPE_DESC}),e.LOANPERMIT_AMT&&Object(L.jsxs)(x.a.Item,{label:w.a.t("MaximumLoan"),children:[Object(S.m)(e.LOANPERMIT_AMT||0)," ",w.a.t("THB")]}),Object(L.jsxs)(x.a.Item,{label:w.a.t("Status"),children:[Object(L.jsx)(y.a,{status:1==e.REQ_STATUS?"success":-1==e.REQ_STATUS||-9==e.REQ_STATUS||9==e.REQ_STATUS?"error":"processing",text:e.REQ_STATUS_DESC,style:{color:1==e.REQ_STATUS?"#52c41a":-1==e.REQ_STATUS||-9==e.REQ_STATUS||9==e.REQ_STATUS?"#f5222d":null}}),e.APPROVE_DATE&&Object(L.jsxs)("span",{style:{fontSize:"smaller",marginLeft:10},children:["(",e.APPROVE_DATE,")"]})]}),e.REQUEST_AMT&&Object(L.jsx)(x.a.Item,{label:w.a.t("LoanAmt"),children:Object(L.jsxs)("span",{className:"link-text",style:{fontWeight:"bold"},children:[Object(S.m)(e.REQUEST_AMT||0)," ",w.a.t("THB")]})}),e.PERIOD&&Object(L.jsx)(x.a.Item,{label:w.a.t("Period"),children:e.PERIOD}),e.PERIOD_PAYMENT&&Object(L.jsx)(x.a.Item,{label:w.a.t("AmountPerInstallment"),children:Object(L.jsxs)("span",{style:{fontWeight:"bold"},children:[Object(S.m)(e.PERIOD_PAYMENT||0)," ",w.a.t("THB")]})}),e.OPTION_PAY&&Object(L.jsx)(x.a.Item,{label:w.a.t("PaymentType"),children:e.OPTION_PAY}),e.DIFFOLD_CONTRACT&&Object(L.jsx)(x.a.Item,{label:w.a.t("Offset"),children:Object(L.jsxs)("span",{className:e.DIFFOLD_CONTRACT>0?"red-text":"",style:{fontWeight:"bold"},children:[Object(S.m)(e.DIFFOLD_CONTRACT||0)," ",w.a.t("THB")]})}),e.OBJECTIVE&&Object(L.jsx)(x.a.Item,{label:w.a.t("Objectives"),children:e.OBJECTIVE}),e.RECEIVE_NET&&Object(L.jsx)(x.a.Item,{label:w.a.t("AmountReceived"),children:Object(L.jsxs)("span",{className:"highlight-text",style:{fontSize:"1.2em",fontWeight:"bold"},children:[Object(S.m)(e.RECEIVE_NET||0)," ",w.a.t("THB")]})}),e.DEPTACCOUNT_NO_COOP&&Object(L.jsx)(x.a.Item,{label:w.a.t("CoopAccountRecvMoney"),children:e.DEPTACCOUNT_NO_COOP}),e.PAY_DATE&&Object(L.jsx)(x.a.Item,{label:w.a.t("PayDate"),children:e.PAY_DATE}),Object(L.jsx)("br",{}),e.REMARK&&Object(L.jsx)(x.a.Item,{label:w.a.t("Annotation"),className:"column-left",span:2,children:e.REMARK})]}),re&&Object(L.jsx)("div",{children:Object(L.jsxs)(g.a,{size:"small",style:{color:"white",backgroundColor:"#16a085",borderRadius:"5px",boxShadow:"0px 5px 6px rgba(20, 171, 120, 0.2)",textTransform:"unset",margin:"0 4px"},onClick:function(){de(e)},children:[Object(L.jsx)(m.a,{type:"file",style:{marginRight:4}}),"\u0e14\u0e39\u0e44\u0e1f\u0e25\u0e4c\u0e41\u0e19\u0e1a"]})})]})},dataSource:be,locale:{emptyText:w.a.t("DataNotFound")}}),Object(L.jsxs)("div",{style:{textAlign:"right",opacity:.5,fontSize:"smaller"},children:[be.length," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"]})]})})]})})]})})}))},gFTJ:function(e,t,n){"use strict";var a=n("q1tI"),c=n.n(a),o=n("eHJ2"),l=n.n(o),r=n("1mVG");function i(e){var t=[];return c.a.Children.forEach(e,(function(e){void 0!==e&&null!==e&&(Array.isArray(e)?t=t.concat(i(e)):Object(r.isFragment)(e)&&e.props?t=t.concat(i(e.props.children)):t.push(e))})),t}var s=n("6CfX"),u=n("ACnJ"),d=n("H84U");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n=e.child,c=e.bordered,o=e.colon,r=e.type,i=e.layout,s=n.props,u=s.prefixCls,d=s.label,b=s.className,f=s.children,j=s.span,m=void 0===j?1:j,O={className:l()("".concat(u,"-item-label"),(t={},p(t,"".concat(u,"-item-colon"),o),p(t,"".concat(u,"-item-no-label"),!d),t)),key:"label"};return"vertical"===i&&(O.colSpan=2*m-1),c?"label"===r?a.createElement("th",O,d):a.createElement("td",{className:l()("".concat(u,"-item-content"),b),key:"content",colSpan:2*m-1},f):"vertical"===i?"content"===r?a.createElement("td",{colSpan:m,className:l()("".concat(u,"-item"),b)},a.createElement("span",{className:"".concat(u,"-item-content"),key:"content"},f)):a.createElement("td",{colSpan:m,className:l()("".concat(u,"-item"),b)},a.createElement("span",{className:l()("".concat(u,"-item-label"),p({},"".concat(u,"-item-colon"),o)),key:"label"},d)):a.createElement("td",{colSpan:m,className:l()("".concat(u,"-item"),b)},a.createElement("span",O,d),a.createElement("span",{className:"".concat(u,"-item-content"),key:"content"},f))};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var c=E(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){return e?i(e).reduce((function(e,t){return t&&t.type===a.Fragment?e.concat(y(t.props.children)):(e.push(t),e)}),[]):[]}var T={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,e);var t,n,c,o=v(r);function r(){var e;return m(this,r),(e=o.apply(this,arguments)).state={screens:{}},e}return t=r,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.column;this.token=u.a.subscribe((function(n){"object"===j(t)&&e.setState({screens:n})}))}},{key:"componentWillUnmount",value:function(){u.a.unsubscribe(this.token)}},{key:"getColumn",value:function(){var e=this.props.column;if("object"===j(e))for(var t=0;t<u.b.length;t++){var n=u.b[t];if(this.state.screens[n]&&void 0!==e[n])return e[n]||T[n]}return"number"===typeof e?e:3}},{key:"render",value:function(){var e=this;return a.createElement(d.a,null,(function(t){var n,c=t.getPrefixCls,o=e.props,r=o.className,i=o.prefixCls,u=o.title,d=o.size,p=o.children,j=o.bordered,m=void 0!==j&&j,O=o.layout,h=void 0===O?"horizontal":O,v=o.colon,x=void 0===v||v,E=o.style,T=c("descriptions",i),S=e.getColumn(),C=function(e,t){var n,c=[],o=null,l=y(e);return l.forEach((function(e,r){var i=e;o||(n=t,o=[],c.push(o));var u=!0;r===l.length-1&&(u=!i.props.span||i.props.span===n,i=a.cloneElement(i,{span:n}));var d=i.props.span,p=void 0===d?1:d;o.push(i),(n-=p)<=0&&(o=null,Object(s.a)(0===n&&u,"Descriptions","Sum of column `span` in a line exceeds `column` of Descriptions."))})),c}(y(p).map((function(e){return a.isValidElement(e)?a.cloneElement(e,{prefixCls:T}):null})).filter((function(e){return e})),S);return a.createElement("div",{className:l()(T,r,(n={},f(n,"".concat(T,"-").concat(d),"default"!==d),f(n,"".concat(T,"-bordered"),!!m),n)),style:E},u&&a.createElement("div",{className:"".concat(T,"-title")},u),a.createElement("div",{className:"".concat(T,"-view")},a.createElement("table",null,a.createElement("tbody",null,C.map((function(e,t){return function(e,t,n,c,o,l){var r=n.prefixCls,i=function(e,t,n){return a.createElement(b,{child:e,bordered:c,colon:l,type:t,key:"".concat(t,"-").concat(e.key||n),layout:o})},s=[],u=[];return y(e).forEach((function(e,t){s.push(i(e,"label",t)),"vertical"===o?u.push(i(e,"content",t)):c&&s.push(i(e,"content",t))})),"vertical"===o?[a.createElement("tr",{className:"".concat(r,"-row"),key:"label-".concat(t)},s),a.createElement("tr",{className:"".concat(r,"-row"),key:"content-".concat(t)},u)]:a.createElement("tr",{className:"".concat(r,"-row"),key:t},s)}(e,t,{prefixCls:T},m,h,x)}))))))}))}}])&&O(t.prototype,n),c&&O(t,c),r}(a.Component);S.defaultProps={size:"default",column:T},S.Item=function(e){return e.children};t.a=S},"i/qE":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/LoanRequestTrack",function(){return n("drnI")}])}},[["i/qE",2,1,4,5,7,8,11,0,3,6,9,10,12,13,14,15]]]);