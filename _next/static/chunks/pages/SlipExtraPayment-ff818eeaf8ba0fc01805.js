(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4397],{49067:function(t,e,n){"use strict";n.r(e);var i=n(92809),s=n(68216),a=n(25997),r=n(13444),o=n(30268),l=n(92953),c=n(67294),p=n(9008),u=n(77268),d=n(83681),h=n(11382),f=n(27049),m=n(14277),g=n(11163),y=n(13706),x=n(33330),S=n(94141),v=n(11752),j=n(41561),P=n(28216),O=n(30301),_=n(62251),w=(n(17857),n(17817),n(58724)),b=n(62045),k=n(8801),N=n(85893);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,l.Z)(t);if(e){var s=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}O.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(O.v0.version,"/pdf.worker.js");var D=(0,v.default)().publicRuntimeConfig,E=function(t){(0,r.Z)(n,t);var e=Z(n);function n(t){var i;return(0,s.Z)(this,n),(i=e.call(this,t)).state={statusCode:200,errData:null,loading:!0,isInitialLoading:!0,pathName:"",kpListArr:[],slipDetail:[],loadingSlip:!1,loadingReport:!1,kpDetailHeader:null,isActiveListMonth:!1,isAffrix:!1,reportURL:null,reportData:{},isShowReport:!1,numPages:null,pageNumber:1,show_slip_report:!1,show_split_slip_report:!1},i}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.setState({pathName:(0,S.tk)(g.default.pathname)}),this.fetchSlipExtraPayment()}},{key:"fetchSlipExtraPayment",value:function(){var t=this;this.setState({loadingSlip:!0});var e={menu_component:(0,S.tk)(g.default.pathname)};y.Z.fetchSlipExtraPayment(e).then((function(e){e.RESULT?t.setState({slipDetail:e.SLIP_LIST}):t.setState(L({},t.props.checkResultFalseMessage(e,{slipDetail:[]}))),t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1})})).catch((function(e){t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1}),t.setState(L({},t.props.checkCatchMessage(e)))}))}},{key:"fetchReportSlipExtraPayment",value:function(t){var e=this;this.setState({loadingSlip:!0});var n={menu_component:(0,S.tk)(g.default.pathname),slip_no:t};y.Z.fetchReportSlipExtraPayment(n).then((function(n){n.RESULT?(e.setState({reportData:{SLIP_NO:t}}),window.open(n.REPORT_URL,"_blank")):e.setState(L(L({},e.props.checkResultFalseMessage(n)),{},{reportURL:null,reportData:{}})),e.setState({loadingSlip:!1})})).catch((function(t){e.setState({loadingSlip:!1}),e.setState(L({},e.props.checkCatchMessage(t)))}))}},{key:"modalPDFPayment",value:function(){var t,e,n=this,i=this.state;i.pageNumber,i.numPages;return(0,N.jsx)("div",{className:"report-modal-content",children:(0,N.jsxs)("div",{className:"report-modal-body",children:[(0,N.jsxs)("div",{className:"report-modal-control",children:[(0,N.jsx)("div",{children:(0,N.jsxs)("span",{style:{fontSize:"1.2em"},children:[b.Z.t("SlipExtraPayment")," ",null!==(t=this.state.reportData)&&void 0!==t&&t.SLIP_NO?"(".concat(null===(e=this.state.reportData)||void 0===e?void 0:e.SLIP_NO,")"):null]})}),(0,N.jsx)("div",{children:(0,N.jsxs)(u.Z,{onClick:function(){return n.setState({isShowReport:!1})},children:[b.Z.t("Close"),(0,N.jsx)(d.Z,{type:"close"})]})})]}),this.state.reportURL?(0,N.jsx)(_.Z,{width:"100%",height:"100%",styles:{flex:1},url:"".concat(this.state.reportURL)}):null]})})}},{key:"render",value:function(){var t=this;return this.state.statusCode>=300&&this.state.statusCode<500?(0,N.jsx)(j.default,{statusCode:this.state.statusCode,err:this.state.errData,showModalLogout:function(){return t.props.showModalLogout()}}):(0,N.jsx)("div",{className:"main-layout",style:{position:"relative"},children:(0,N.jsxs)("div",{style:{width:"100%"},children:[(0,N.jsx)(x.Z,{checked:!this.state.loading||!this.state.isInitialLoading}),(0,N.jsx)(p.default,{children:(0,N.jsx)("link",{rel:"stylesheet",href:"".concat(D.cssFolder,"/slipextrapayment.css")})}),(0,N.jsx)("div",{id:"main-content",className:"main-content",style:{width:"100%"},children:(0,N.jsxs)("div",{className:"sub-content",children:[(0,N.jsx)(w.Z,{th:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e40\u0e14\u0e37\u0e2d\u0e19",en:"Keeping monthly"}),this.state.isShowReport&&this.modalPDFPayment(),this.state.slipDetail.length>0?(0,N.jsx)(h.Z,{spinning:this.state.loadingSlip,children:(0,N.jsx)("div",{children:this.state.slipDetail.map((function(e,n){return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"header-title",style:{fontSize:"larger",fontWeight:"bold"},children:["\u0e1b\u0e35 ",e.YEAR?e.YEAR-0+543:"-"," ",(0,N.jsxs)("span",{style:{opacity:.5,fontSize:"smaller",fontWeight:"normal"},children:["( ",e.COUNT," ",b.Z.t("operateType")," )"]})]}),(e.MONTH||[]).map((function(e,n){return(0,N.jsxs)("div",{children:[(0,N.jsxs)(f.Z,{orientation:"left",style:{fontSize:"smaller",margin:"16px 0 4px"},children:[e.MONTH," ",(0,N.jsxs)("span",{style:{opacity:.4,fontWeight:"normal"},children:["( ",(e.SLIP||[]).length," ",b.Z.t("operateType")," )"]})]}),(0,N.jsx)("div",{style:{display:"flex",margin:"0 8px"},children:(e.SLIP||[]).map((function(e,n){return(0,N.jsxs)("div",{onClick:function(){t.fetchReportSlipExtraPayment(e.SLIP_NO)},className:"card-extra-slip",children:[(0,N.jsx)("img",{src:"".concat(D.svgFolder,"/slip_extra.svg"),style:{height:"1.5em",marginRight:4}}),e.SLIP_NO]})}))})]})}))]},n)}))})}):(0,N.jsx)("div",{style:{fontSize:"small",textAlign:"center",padding:"20px 0"},children:(0,N.jsx)(m.Z,{className:"empty-div",description:b.Z.t("DataNotFound"),style:{fontSize:"small"},image:(0,N.jsxs)("picture",{children:[(0,N.jsx)("source",{srcSet:"".concat(D.imageFolder,"/notfound.webp"),type:"image/webp"}),(0,N.jsx)("source",{srcSet:"".concat(D.imageFolder,"/notfound.png"),type:"image/png"}),(0,N.jsx)("img",{alt:"notfound-icon",src:"".concat(D.imageFolder,"/notfound.png"),type:"image/png",style:{userSelect:"none",opacity:.6}})]})})})]})})]})})}}]),n}(c.PureComponent);e.default=(0,P.$j)((function(t){return{}}),(function(t){return{}}))((0,k.hr)()(E))},52432:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SlipExtraPayment",function(){return n(49067)}])},49080:function(){},57588:function(){},3071:function(){},15232:function(){}},function(t){t.O(0,[3701,1341,7857,9774,2888,179],(function(){return e=52432,t(t.s=e);var e}));var e=t.O();_N_E=e}]);