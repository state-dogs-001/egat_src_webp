(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3574],{94760:function(e,t,n){"use strict";n.r(t);var i=n(30266),o=n(809),s=n.n(o),l=n(67294),a=n(9008),r=(n(11163),n(83681)),d=n(56956),c=n(13706),u=n(33330),v=(n(94141),n(11752)),f=n(41561),p=n(28216),x=n(30381),h=n.n(x),m=n(96827),T=n(58724),E=n(68341),D=n.n(E),g=n(62045),y=n(8801),_=n(85893),M=(0,v.default)().publicRuntimeConfig;t.default=(0,p.$j)((function(e){return{}}),(function(e){return{}}))((0,y.hr)()((function(e){var t=(0,l.useState)(200),n=t[0],o=t[1],v=(0,l.useState)(!0),p=v[0],x=v[1],E=(0,l.useState)(null),y=E[0],S=E[1],j=(0,l.useState)(!0),A=j[0],w=j[1],N=(0,l.useState)([]),Z=N[0],I=N[1],Y=(0,l.useState)(!1),k=Y[0],C=Y[1],b=(0,l.useState)(null),H=b[0],R=b[1],L=(0,l.useState)(!1),F=L[0],K=L[1];(0,l.useEffect)((function(){h().locale(g.Z.language),z()}),[]),(0,l.useEffect)((function(){h().locale(g.Z.language)}),[g.Z.language]);var P=function(){var t=(0,i.Z)(s().mark((function t(n){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(n),i={menu_component:"Event",id_task:n},c.Z.fetchActivityDetail(i).then((function(e){if("Network Error"==e.message)throw"networkError";e.RESULT&&(R(e.EVENT),C(!0)),K(!1)})).catch((function(t){K(!1),"networkError"!=t||e.state.SwalVisible||e.alertNetworkError()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=(0,i.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(!0),n={menu_component:"Event"},c.Z.fetchAllActivities(n).then((function(t){if("Network Error"==t.message)throw"networkError";if(t.RESULT)I(t.EVENT),w(!1);else{w(!1),x(!1);var n=e.checkResultFalseMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&o(null===n||void 0===n?void 0:n.statusCode)}})).catch((function(t){w(!1),x(!1);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&o(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&S(null===n||void 0===n?void 0:n.errData)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){C(!1)};return n>=300&&n<500?(0,_.jsx)(f.default,{statusCode:n,err:y,showModalLogout:function(){return e.showModalLogout()}}):(0,_.jsx)("div",{className:"main-layout",style:{position:"relative"},children:(0,_.jsxs)("div",{style:{width:"100%"},children:[(0,_.jsx)(u.Z,{checked:!A||!p}),(0,_.jsxs)(a.default,{children:[(0,_.jsx)("link",{rel:"stylesheet",href:"".concat(M.cssFolder,"/react-big-calendar.css")}),(0,_.jsx)("link",{rel:"stylesheet",href:"".concat(M.cssFolder,"/activitiescalendar.css")})]}),(0,_.jsx)("div",{className:"main-content",children:(0,_.jsxs)("div",{className:"sub-content",style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,_.jsx)(T.Z,{th:"\u0e1b\u0e0f\u0e34\u0e17\u0e34\u0e19\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e2a\u0e2b\u0e01\u0e23\u0e13\u0e4c",en:"Activities Calendar"}),H?(0,_.jsxs)(d.Z,{closable:!1,maskClosable:!0,visible:k,onCancel:function(){return O()},footer:null,bodyStyle:{padding:"0",minHeight:"250px"},style:{margin:"auto",maxWidth:1024},children:[(0,_.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:"10px 20px 0 20px"},children:(0,_.jsx)("div",{title:g.Z.t("Close"),className:"noti-modal-btn",onClick:function(){return O()},style:{padding:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,_.jsx)(r.Z,{type:"close",className:"sub-text red-hover"})})}),(0,_.jsxs)("div",{style:{padding:"0 10px"},children:[(0,_.jsx)("div",{style:{padding:"10px 20px 5px",fontSize:"larger",fontWeight:"bold"},children:null===H||void 0===H?void 0:H.TASK_TOPIC}),(0,_.jsxs)("div",{style:{padding:"0 20px 10px 20px"},children:[(0,_.jsxs)("div",{children:[g.Z.t("BetweenDate")," : ",(null===H||void 0===H?void 0:H.START_DATE)==(null===H||void 0===H?void 0:H.END_DATE)?null===H||void 0===H?void 0:H.START_DATE:"".concat((null===H||void 0===H?void 0:H.START_DATE)||"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38"," - ").concat((null===H||void 0===H?void 0:H.END_DATE)||"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38")]}),1==(null===H||void 0===H?void 0:H.IS_SETTIME)&&(0,_.jsxs)("div",{children:[g.Z.t("TimePeriod")," : ","".concat((null===H||void 0===H?void 0:H.START_TIME)||"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38"," - ").concat((null===H||void 0===H?void 0:H.END_TIME)||"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38")]})]}),null!==H&&void 0!==H&&H.EVENT_HTML?(0,_.jsx)("div",{className:"news-full-detail-html",children:D()(null===H||void 0===H?void 0:H.EVENT_HTML)}):null!==H&&void 0!==H&&H.TASK_DETAIL?(0,_.jsx)("div",{className:"sub-text",style:{padding:"0 20px 20px 20px"},children:(0,_.jsx)("p",{dangerouslySetInnerHTML:{__html:null===H||void 0===H?void 0:H.TASK_DETAIL}})}):null,(0,_.jsx)("div",{style:{padding:"0 20px 20px 20px"},children:(0,_.jsx)("p",{dangerouslySetInnerHTML:{__html:null===H||void 0===H?void 0:H.TASK_DETAIL}})}),(0,_.jsxs)("div",{className:"sub-text",style:{fontSize:"small",padding:"0 20px 16px",textAlign:"right"},children:[g.Z.t("LastUpdate")," ",null===H||void 0===H?void 0:H.UPDATE_DATE]})]})]}):null,function(){var e=Z.map((function(e){return{title:e.TASK_TOPIC,start:new Date(h()(e.START_DATE_RAW,"DD-MM-YYYY").format("YYYY-MM-DD [00:00:00]")),end:new Date(h()(e.END_DATE_RAW,"DD-MM-YYYY").format("YYYY-MM-DD [23:59:59]")),allDay:"1"!=e.IS_SETTIME,isNotify:e.IS_NOTIFY,resource:e}}));return(0,_.jsx)(m.f,{className:"isc-card card-shadow",style:{padding:"16px 8px 16px"},selectable:!0,popup:!0,onSelecting:function(){},onSelectEvent:function(e,t){P(e.resource.ID_TASK)},events:e,views:["month","agenda"],showMultiDayTimes:!0,messages:{next:g.Z.t("Next"),previous:g.Z.t("Previous"),today:g.Z.t("Today"),date:g.Z.t("Date"),time:g.Z.t("Time"),event:g.Z.t("Activities"),noEventsInRange:g.Z.t("NotFoundActivities"),allDay:g.Z.t("AllDay"),showMore:function(e){return"+".concat(e," ").concat(g.Z.t("Activities"))},month:g.Z.t("Month"),agenda:g.Z.t("Activities")},components:{agenda:{time:function(e){var t=e.event,n=(e.day,e.label);return(0,_.jsx)("span",{style:{opacity:.6},children:"0"==t.resource.IS_SETTIME?n:"".concat(h()(t.resource.START_TIME,"HH:mm").format("HH:mm"),"-").concat(t.resource.END_TIME?h()(t.resource.END_TIME,"HH:mm").format("HH:mm"):"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38")})},date:function(e){e.day;var t=e.label;return(0,_.jsxs)("div",{className:h()().format("dddd MMM DD")==t?"today-date-agendar":"",children:[(0,_.jsx)("div",{children:(0,_.jsx)("span",{style:{color:"#5a6173",fontSize:"smaller",lineHeight:"1em",opacity:.6},children:h()(t,"dddd MMM DD").format("dddd")})}),(0,_.jsx)("div",{children:(0,_.jsx)("span",{style:{color:"#5a6173",fontSize:"larger",lineHeight:"1em",fontWeight:"bold"},children:h()(t,"dddd MMM DD").format("DD MMM")})})]})},event:function(e){var t=e.event,n=e.title;return(0,_.jsxs)("div",{onClick:function(){P(t.resource.ID_TASK)},style:{cursor:"pointer"},children:[(0,_.jsxs)("span",{children:[" ",F==t.resource.ID_TASK&&(0,_.jsx)(r.Z,{type:"loading",spin:!0,style:{color:"var(--link-text-color)",marginRight:5}})]}),(0,_.jsx)("span",{children:n})]})}},month:{event:function(e){return(0,_.jsxs)("span",{children:[e.title,F==e.event.resource.ID_TASK&&(0,_.jsx)(r.Z,{type:"loading",spin:!0,style:{color:"#FFF",marginLeft:5}})]})}}},localizer:(0,m.Zt)(h()),formats:{agendaHeaderFormat:function(e,t,n){return"".concat(h()(e.start).format("DD MMM YYYY")," - ").concat(h()(e.end).format("DD MMM YYYY"))}}})}()]})})]})})})))},76745:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ActivitiesCalendar",function(){return n(94760)}])}},function(e){e.O(0,[2770,4584,9774,2888,179],(function(){return t=76745,e(e.s=t);var t}));var t=e.O();_N_E=t}]);