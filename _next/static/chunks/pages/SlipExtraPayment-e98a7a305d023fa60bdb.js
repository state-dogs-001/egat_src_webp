_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[72],{"8nNY":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SlipExtraPayment",function(){return n("qayL")}])},qayL:function(t,e,n){"use strict";n.r(e);var a=n("nKUr"),i=n("cpVT"),s=n("H+61"),r=n("UlJF"),c=n("7LId"),o=n("VIvw"),l=n("iHvq"),p=n("q1tI"),d=n("g4pe"),u=n.n(d),h=n("2/Rp"),j=n("CtXQ"),f=n("W9HT"),b=n("PArb"),m=n("ECub"),O=n("20a2"),g=n.n(O),y=n("WM+0"),S=n("VlGh"),x=n("xtEs"),v=n("mOvS"),P=n.n(v),w=n("Y0NT"),N=n("/MKj"),_=n("UsKZ"),R=n("0OBr"),L=(n("PHNs"),n("fmKo"),n("MoW8")),k=n("fH4n"),D=n("9kay");function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}_.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_.pdfjs.version,"/pdf.worker.js");var T=P()().publicRuntimeConfig,M=function(t){Object(c.a)(n,t);var e=C(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={statusCode:200,errData:null,loading:!0,isInitialLoading:!0,pathName:"",kpListArr:[],slipDetail:[],loadingSlip:!1,loadingReport:!1,kpDetailHeader:null,isActiveListMonth:!1,isAffrix:!1,reportURL:null,reportData:{},isShowReport:!1,numPages:null,pageNumber:1,show_slip_report:!1,show_split_slip_report:!1},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({pathName:Object(x.i)(g.a.pathname)}),this.fetchSlipExtraPayment()}},{key:"fetchSlipExtraPayment",value:function(){var t=this;this.setState({loadingSlip:!0});var e={menu_component:Object(x.i)(g.a.pathname)};y.a.fetchSlipExtraPayment(e).then((function(e){e.RESULT?t.setState({slipDetail:e.SLIP_LIST}):t.setState(I({},t.props.checkResultFalseMessage(e,{slipDetail:[]}))),t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1})})).catch((function(e){t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1}),t.setState(I({},t.props.checkCatchMessage(e)))}))}},{key:"fetchReportSlipExtraPayment",value:function(t){var e=this;this.setState({loadingSlip:!0});var n={menu_component:Object(x.i)(g.a.pathname),slip_no:t};y.a.fetchReportSlipExtraPayment(n).then((function(n){n.RESULT?(e.setState({reportData:{SLIP_NO:t}}),window.open(n.REPORT_URL,"_blank")):e.setState(I(I({},e.props.checkResultFalseMessage(n)),{},{reportURL:null,reportData:{}})),e.setState({loadingSlip:!1})})).catch((function(t){e.setState({loadingSlip:!1}),e.setState(I({},e.props.checkCatchMessage(t)))}))}},{key:"modalPDFPayment",value:function(){var t,e,n=this,i=this.state;i.pageNumber,i.numPages;return Object(a.jsx)("div",{className:"report-modal-content",children:Object(a.jsxs)("div",{className:"report-modal-body",children:[Object(a.jsxs)("div",{className:"report-modal-control",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("span",{style:{fontSize:"1.2em"},children:[k.a.t("SlipExtraPayment")," ",null!==(t=this.state.reportData)&&void 0!==t&&t.SLIP_NO?"(".concat(null===(e=this.state.reportData)||void 0===e?void 0:e.SLIP_NO,")"):null]})}),Object(a.jsx)("div",{children:Object(a.jsxs)(h.a,{onClick:function(){return n.setState({isShowReport:!1})},children:[k.a.t("Close"),Object(a.jsx)(j.a,{type:"close"})]})})]}),this.state.reportURL?Object(a.jsx)(R.a,{width:"100%",height:"100%",styles:{flex:1},url:"".concat(this.state.reportURL)}):null]})})}},{key:"render",value:function(){var t=this;return this.state.statusCode>=300&&this.state.statusCode<500?Object(a.jsx)(w.default,{statusCode:this.state.statusCode,err:this.state.errData,showModalLogout:function(){return t.props.showModalLogout()}}):Object(a.jsx)("div",{className:"main-layout",style:{position:"relative"},children:Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(S.a,{checked:!this.state.loading||!this.state.isInitialLoading}),Object(a.jsx)(u.a,{children:Object(a.jsx)("link",{rel:"stylesheet",href:"".concat(T.cssFolder,"/slipextrapayment.css")})}),Object(a.jsx)("div",{id:"main-content",className:"main-content",style:{width:"100%"},children:Object(a.jsxs)("div",{className:"sub-content",children:[Object(a.jsx)(L.a,{th:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e40\u0e14\u0e37\u0e2d\u0e19",en:"Keeping monthly"}),this.state.isShowReport&&this.modalPDFPayment(),this.state.slipDetail.length>0?Object(a.jsx)(f.a,{spinning:this.state.loadingSlip,children:Object(a.jsx)("div",{children:this.state.slipDetail.map((function(e,n){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"header-title",style:{fontSize:"larger",fontWeight:"bold"},children:["\u0e1b\u0e35 ",e.YEAR?e.YEAR-0+543:"-"," ",Object(a.jsxs)("span",{style:{opacity:.5,fontSize:"smaller",fontWeight:"normal"},children:["( ",e.COUNT," ",k.a.t("operateType")," )"]})]}),(e.MONTH||[]).map((function(e,n){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(b.a,{orientation:"left",style:{fontSize:"smaller",margin:"16px 0 4px"},children:[e.MONTH," ",Object(a.jsxs)("span",{style:{opacity:.4,fontWeight:"normal"},children:["( ",(e.SLIP||[]).length," ",k.a.t("operateType")," )"]})]}),Object(a.jsx)("div",{style:{display:"flex",margin:"0 8px"},children:(e.SLIP||[]).map((function(e,n){return Object(a.jsxs)("div",{onClick:function(){t.fetchReportSlipExtraPayment(e.SLIP_NO)},className:"card-extra-slip",children:[Object(a.jsx)("img",{src:"".concat(T.svgFolder,"/slip_extra.svg"),style:{height:"1.5em",marginRight:4}}),e.SLIP_NO]})}))})]})}))]},n)}))})}):Object(a.jsx)("div",{style:{fontSize:"small",textAlign:"center",padding:"20px 0"},children:Object(a.jsx)(m.a,{className:"empty-div",description:k.a.t("DataNotFound"),style:{fontSize:"small"},image:Object(a.jsxs)("picture",{children:[Object(a.jsx)("source",{srcSet:"".concat(T.imageFolder,"/notfound.webp"),type:"image/webp"}),Object(a.jsx)("source",{srcSet:"".concat(T.imageFolder,"/notfound.png"),type:"image/png"}),Object(a.jsx)("img",{alt:"notfound-icon",src:"".concat(T.imageFolder,"/notfound.png"),type:"image/png",style:{userSelect:"none",opacity:.6}})]})})})]})})]})})}}]),n}(p.PureComponent);e.default=Object(N.b)((function(t){return{}}),(function(t){return{}}))(Object(D.c)()(M))}},[["8nNY",0,2,4,5,8,7,11,23,1,3,6,9,10,24,26]]]);