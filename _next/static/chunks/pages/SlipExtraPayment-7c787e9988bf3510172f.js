_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[70],{"8nNY":function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SlipExtraPayment",function(){return a("qayL")}])},qayL:function(t,e,a){"use strict";a.r(e);var n=a("cpVT"),i=a("H+61"),o=a("UlJF"),r=a("7LId"),s=a("VIvw"),l=a("iHvq"),c=a("q1tI"),p=a.n(c),u=a("g4pe"),d=a.n(u),f=a("2/Rp"),h=a("CtXQ"),m=a("W9HT"),g=a("PArb"),y=a("ECub"),S=a("20a2"),v=a.n(S),b=a("WM+0"),O=a("VlGh"),P=a("xtEs"),w=a("mOvS"),N=a.n(w),j=a("Y0NT"),_=a("/MKj"),R=a("UsKZ"),L=a("0OBr"),k=(a("PHNs"),a("fmKo"),a("MoW8")),D=a("fH4n"),E=a("9kay"),x=p.a.createElement;function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function T(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}R.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(R.pdfjs.version,"/pdf.worker.js");var M=N()().publicRuntimeConfig,F=function(t){Object(r.a)(a,t);var e=T(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={statusCode:200,errData:null,loading:!0,isInitialLoading:!0,pathName:"",kpListArr:[],slipDetail:[],loadingSlip:!1,loadingReport:!1,kpDetailHeader:null,isActiveListMonth:!1,isAffrix:!1,reportURL:null,reportData:{},isShowReport:!1,numPages:null,pageNumber:1,show_slip_report:!1,show_split_slip_report:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({pathName:Object(P.i)(v.a.pathname)}),this.fetchSlipExtraPayment()}},{key:"fetchSlipExtraPayment",value:function(){var t=this;this.setState({loadingSlip:!0});var e={menu_component:Object(P.i)(v.a.pathname)};b.a.fetchSlipExtraPayment(e).then((function(e){e.RESULT?t.setState({slipDetail:e.SLIP_LIST}):t.setState(C({},t.props.checkResultFalseMessage(e,{slipDetail:[]}))),t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1})})).catch((function(e){t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1}),t.setState(C({},t.props.checkCatchMessage(e)))}))}},{key:"fetchReportSlipExtraPayment",value:function(t){var e=this;this.setState({loadingSlip:!0});var a={menu_component:Object(P.i)(v.a.pathname),slip_no:t};b.a.fetchReportSlipExtraPayment(a).then((function(a){a.RESULT?(e.setState({reportData:{SLIP_NO:t}}),window.open(a.REPORT_URL,"_blank")):e.setState(C(C({},e.props.checkResultFalseMessage(a)),{},{reportURL:null,reportData:{}})),e.setState({loadingSlip:!1})})).catch((function(t){e.setState({loadingSlip:!1}),e.setState(C({},e.props.checkCatchMessage(t)))}))}},{key:"modalPDFPayment",value:function(){var t,e,a=this,n=this.state;n.pageNumber,n.numPages;return x("div",{className:"report-modal-content"},x("div",{className:"report-modal-body"},x("div",{className:"report-modal-control"},x("div",null,x("span",{style:{fontSize:"1.2em"}},D.a.t("SlipExtraPayment")," ",null!==(t=this.state.reportData)&&void 0!==t&&t.SLIP_NO?"(".concat(null===(e=this.state.reportData)||void 0===e?void 0:e.SLIP_NO,")"):null)),x("div",null,x(f.a,{onClick:function(){return a.setState({isShowReport:!1})}},D.a.t("Close"),x(h.a,{type:"close"})))),this.state.reportURL?x(L.a,{width:"100%",height:"100%",styles:{flex:1},url:"".concat(this.state.reportURL)}):null))}},{key:"render",value:function(){var t=this;return this.state.statusCode>=300&&this.state.statusCode<500?x(j.default,{statusCode:this.state.statusCode,err:this.state.errData,showModalLogout:function(){return t.props.showModalLogout()}}):x("div",{className:"main-layout",style:{position:"relative"}},x("div",{style:{width:"100%"}},x(O.a,{checked:!this.state.loading||!this.state.isInitialLoading}),x(d.a,null,x("link",{rel:"stylesheet",href:"".concat(M.cssFolder,"/slipextrapayment.css")})),x("div",{id:"main-content",className:"main-content",style:{width:"100%"}},x("div",{className:"sub-content"},x(k.a,{th:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e40\u0e14\u0e37\u0e2d\u0e19",en:"Keeping monthly"}),this.state.isShowReport&&this.modalPDFPayment(),this.state.slipDetail.length>0?x(m.a,{spinning:this.state.loadingSlip},x("div",null,this.state.slipDetail.map((function(e,a){return x("div",{key:a},x("div",{className:"header-title",style:{fontSize:"larger",fontWeight:"bold"}},"\u0e1b\u0e35 ",e.YEAR?e.YEAR-0+543:"-"," ",x("span",{style:{opacity:.5,fontSize:"smaller",fontWeight:"normal"}},"( ",e.COUNT," ",D.a.t("operateType")," )")),(e.MONTH||[]).map((function(e,a){return x("div",null,x(g.a,{orientation:"left",style:{fontSize:"smaller",margin:"16px 0 4px"}},e.MONTH," ",x("span",{style:{opacity:.4,fontWeight:"normal"}},"( ",(e.SLIP||[]).length," ",D.a.t("operateType")," )")),x("div",{style:{display:"flex",margin:"0 8px"}},(e.SLIP||[]).map((function(e,a){return x("div",{onClick:function(){t.fetchReportSlipExtraPayment(e.SLIP_NO)},className:"card-extra-slip"},x("img",{src:"".concat(M.svgFolder,"/slip_extra.svg"),style:{height:"1.5em",marginRight:4}}),e.SLIP_NO)}))))})))})))):x("div",{style:{fontSize:"small",textAlign:"center",padding:"20px 0"}},x(y.a,{className:"empty-div",description:D.a.t("DataNotFound"),style:{fontSize:"small"},image:x("picture",null,x("source",{srcSet:"".concat(M.imageFolder,"/notfound.webp"),type:"image/webp"}),x("source",{srcSet:"".concat(M.imageFolder,"/notfound.png"),type:"image/png"}),x("img",{alt:"notfound-icon",src:"".concat(M.imageFolder,"/notfound.png"),type:"image/png",style:{userSelect:"none",opacity:.6}}))}))))))}}]),a}(c.PureComponent);e.default=Object(_.b)((function(t){return{}}),(function(t){return{}}))(Object(E.c)()(F))}},[["8nNY",0,2,3,5,8,7,9,23,1,4,6,10,11,24,26]]]);