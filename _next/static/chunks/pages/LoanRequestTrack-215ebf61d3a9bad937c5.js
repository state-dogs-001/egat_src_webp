(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[200],{96555:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(67294),l=n(36228),o=n.n(l),r=n(67830);function c(e){var t=[];return a.Children.forEach(e,(function(e){void 0!==e&&null!==e&&(Array.isArray(e)?t=t.concat(c(e)):(0,r.isFragment)(e)&&e.props?t=t.concat(c(e.props.children)):t.push(e))})),t}var i=n(36743),s=n(24308),u=n(65632);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n=e.child,l=e.bordered,r=e.colon,c=e.type,i=e.layout,s=n.props,u=s.prefixCls,p=s.label,f=s.className,m=s.children,h=s.span,v=void 0===h?1:h,x={className:o()("".concat(u,"-item-label"),(t={},d(t,"".concat(u,"-item-colon"),r),d(t,"".concat(u,"-item-no-label"),!p),t)),key:"label"};return"vertical"===i&&(x.colSpan=2*v-1),l?"label"===c?a.createElement("th",x,p):a.createElement("td",{className:o()("".concat(u,"-item-content"),f),key:"content",colSpan:2*v-1},m):"vertical"===i?"content"===c?a.createElement("td",{colSpan:v,className:o()("".concat(u,"-item"),f)},a.createElement("span",{className:"".concat(u,"-item-content"),key:"content"},m)):a.createElement("td",{colSpan:v,className:o()("".concat(u,"-item"),f)},a.createElement("span",{className:o()("".concat(u,"-item-label"),d({},"".concat(u,"-item-colon"),r)),key:"label"},p)):a.createElement("td",{colSpan:v,className:o()("".concat(u,"-item"),f)},a.createElement("span",x,p),a.createElement("span",{className:"".concat(u,"-item-content"),key:"content"},m))};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=T(e);if(t){var l=T(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){return e?c(e).reduce((function(e,t){return t&&t.type===a.Fragment?e.concat(S(t.props.children)):(e.push(t),e)}),[]):[]}var _={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(c,e);var t,n,l,r=E(c);function c(){var e;return h(this,c),(e=r.apply(this,arguments)).state={screens:{}},e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.column;this.token=s.ZP.subscribe((function(n){"object"===m(t)&&e.setState({screens:n})}))}},{key:"componentWillUnmount",value:function(){s.ZP.unsubscribe(this.token)}},{key:"getColumn",value:function(){var e=this.props.column;if("object"===m(e))for(var t=0;t<s.c4.length;t++){var n=s.c4[t];if(this.state.screens[n]&&void 0!==e[n])return e[n]||_[n]}return"number"===typeof e?e:3}},{key:"render",value:function(){var e=this;return a.createElement(u.C,null,(function(t){var n,l=t.getPrefixCls,r=e.props,c=r.className,s=r.prefixCls,u=r.title,d=r.size,m=r.children,h=r.bordered,v=void 0!==h&&h,x=r.layout,E=void 0===x?"horizontal":x,y=r.colon,T=void 0===y||y,_=r.style,C=l("descriptions",s),b=e.getColumn(),A=function(e,t){var n,l=[],o=null,r=S(e);return r.forEach((function(e,c){var s=e;o||(n=t,o=[],l.push(o));var u=!0;c===r.length-1&&(u=!s.props.span||s.props.span===n,s=a.cloneElement(s,{span:n}));var d=s.props.span,p=void 0===d?1:d;o.push(s),(n-=p)<=0&&(o=null,(0,i.Z)(0===n&&u,"Descriptions","Sum of column `span` in a line exceeds `column` of Descriptions."))})),l}(S(m).map((function(e){return a.isValidElement(e)?a.cloneElement(e,{prefixCls:C}):null})).filter((function(e){return e})),b);return a.createElement("div",{className:o()(C,c,(n={},f(n,"".concat(C,"-").concat(d),"default"!==d),f(n,"".concat(C,"-bordered"),!!v),n)),style:_},u&&a.createElement("div",{className:"".concat(C,"-title")},u),a.createElement("div",{className:"".concat(C,"-view")},a.createElement("table",null,a.createElement("tbody",null,A.map((function(e,t){return function(e,t,n,l,o,r){var c=n.prefixCls,i=function(e,t,n){return a.createElement(p,{child:e,bordered:l,colon:r,type:t,key:"".concat(t,"-").concat(e.key||n),layout:o})},s=[],u=[];return S(e).forEach((function(e,t){s.push(i(e,"label",t)),"vertical"===o?u.push(i(e,"content",t)):l&&s.push(i(e,"content",t))})),"vertical"===o?[a.createElement("tr",{className:"".concat(c,"-row"),key:"label-".concat(t)},s),a.createElement("tr",{className:"".concat(c,"-row"),key:"content-".concat(t)},u)]:a.createElement("tr",{className:"".concat(c,"-row"),key:t},s)}(e,t,{prefixCls:C},v,E,T)}))))))}))}}])&&v(t.prototype,n),l&&v(t,l),c}(a.Component);C.defaultProps={size:"default",column:_},C.Item=function(e){return e.children};var b=C},33519:function(e,t,n){"use strict";n.r(t);var a=n(11508),l=n(30266),o=n(809),r=n.n(o),c=n(67294),i=n(9008),s=n(11163),u=n(33330),d=n(11752),p=n(41561),f=n(83681),m=n(56956),h=n(11382),v=n(90656),x=n(96555),E=n(75443),y=n(52553),T=n(28216),S=n(94141),_=n(30381),C=n.n(_),b=n(13706),A=n(17812),j=n(282),R=n(26209),Z=(n(96486),n(58724)),g=n(62045),N=n(3340),O=n(85893),D=(0,d.default)().publicRuntimeConfig;C().locale("th");t.default=(0,T.$j)((function(e){return{}}),(function(e){return{}}))((function(e){var t,n=(0,c.useState)(!0),o=n[0],d=n[1],T=(0,c.useState)(200),_=T[0],C=T[1],k=(0,c.useState)(null),w=k[0],I=k[1],L=(0,c.useState)(!0),P=L[0],Q=L[1],U=(0,c.useState)([]),F=U[0],M=U[1],q=(0,c.useState)(""),z=q[0],B=q[1],H=(0,c.useState)(!0),W=H[0],Y=H[1],V=(0,c.useState)([]),K=V[0],J=V[1],X=(0,c.useState)(null),$=X[0],G=X[1],ee=(0,c.useState)(null),te=ee[0],ne=ee[1],ae=(0,c.useState)(null),le=ae[0],oe=ae[1],re=(0,c.useState)(!1),ce=re[0],ie=re[1];function se(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(a)}(0,c.useEffect)((function(){ue()}),[z]);var ue=function(){var t=(0,l.Z)(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y(!0),Q(!0),n={menu_component:(0,S.tk)(s.default.pathname),req_status:z||null,today_date:se(new Date)},b.Z.fetchReqLoanTrack(n).then((function(t){if(t.RESULT)M(t.REQ_LIST||[]),ie(t.IS_ATTACHFILE);else{var n=e.checkResultFalseMessage(t,{},g.Z.t("DataNotFound"));(null===n||void 0===n?void 0:n.statusCode)&&C(null===n||void 0===n?void 0:n.statusCode),n&&M([])}Y(!1),Q(!1),d(!1)})).catch((function(t){Y(!1),Q(!1),d(!1);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&C(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&I(null===n||void 0===n?void 0:n.errData)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),de=function(){var t=(0,l.Z)(r().mark((function t(n){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y(!0),Q(!0),a={menu_component:(0,S.tk)(s.default.pathname),reqloan_doc:null===n||void 0===n?void 0:n.REQLOAN_DOC},b.Z.fetchReqLoanAttachFile(a).then((function(t){if(t.RESULT)(t.ATTACHFILE_LIST||[]).length>0?(ne(t.ATTACHFILE_LIST||[]),oe(n)):(0,N.openNotification)(g.Z.t("DataNotFound"),g.Z.t("AttachFileNotFoundOnthisLoanReq"),"warning");else{var a=e.checkResultFalseMessage(t,{},g.Z.t("DataNotFound"));(null===a||void 0===a?void 0:a.statusCode)&&C(null===a||void 0===a?void 0:a.statusCode),a&&M([])}Y(!1),Q(!1),d(!1)})).catch((function(t){Y(!1),Q(!1),d(!1);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&C(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&I(null===n||void 0===n?void 0:n.errData)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pe=function(){var t=(0,l.Z)(r().mark((function t(n){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:G(n),a={menu_component:(0,S.tk)(s.default.pathname),reqloan_doc:n},b.Z.cancelReqLoanTrack(a).then((function(t){if(t.RESULT)ue();else{var n=e.checkResultFalseMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&C(null===n||void 0===n?void 0:n.statusCode)}G(null)})).catch((function(t){G(null);var n=e.checkCatchMessage(t);(null===n||void 0===n?void 0:n.statusCode)&&C(null===n||void 0===n?void 0:n.statusCode),(null===n||void 0===n?void 0:n.errData)&&I(null===n||void 0===n?void 0:n.errData)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fe=F,me=[{title:(0,O.jsx)("div",{children:0==K.length?(0,O.jsx)(A.Z,{onClick:function(){J(fe.map((function(e){return e.REQLOAN_DOC})))},style:{fontSize:"1em"},children:(0,O.jsx)(f.Z,{type:"plus"})}):(0,O.jsx)(A.Z,{onClick:function(){J([])},style:{fontSize:"1em"},children:(0,O.jsx)(f.Z,{type:"minus"})})}),width:"1%",dataIndex:"ICON",key:"ICON",align:"center",className:"col-loanreq-table-expand"}].concat((0,a.Z)(null!==(t=fe[0])&&void 0!==t&&t.REQUEST_DATE?[{title:g.Z.t("TransactionDate"),dataIndex:"REQUEST_DATE",key:"REQUEST_DATE",align:"center",className:"col-loanreq-table"}]:[]),[{title:g.Z.t("ReqDocNo"),dataIndex:"REQLOAN_DOC",key:"REQLOAN_DOC",align:"center",className:"col-loanreq-table"},{title:g.Z.t("LoanType"),dataIndex:"LOANTYPE_DESC",key:"LOANTYPE_DESC",align:"center",className:"col-loanreq-table"},{title:g.Z.t("LoanAmt"),dataIndex:"REQUEST_AMT",key:"REQUEST_AMT",align:"center",render:function(e,t){return(0,O.jsx)("div",{style:{textAlign:"right"},children:(0,S.E9)(e||0)})},className:"col-loanreq-table"},{title:g.Z.t("Status"),dataIndex:"REQ_STATUS_DESC",key:"REQ_STATUS_DESC",align:"center",render:function(e,t){return(0,O.jsx)("span",{style:{whiteSpace:"nowrap"},className:t.REQ_STATUS<0||9==t.REQ_STATUS?"red-text":1==t.REQ_STATUS?"highlight-text":8==t.REQ_STATUS?" ":"link-text",children:e})},className:"col-loanreq-table"},{title:g.Z.t("ContractStatus"),dataIndex:"CONTRACT_STAUTS",key:"CONTRACT_STAUTS",align:"center",render:function(e,t){return(0,O.jsx)("div",{style:{textAlign:"center"},children:e})},className:"col-loanreq-table"}]);return _>=300&&_<500?(0,O.jsx)(p.default,{statusCode:_,err:w,showModalLogout:function(){return e.showModalLogout()}}):(0,O.jsx)("div",{className:"main-layout",style:{position:"relative"},children:(0,O.jsxs)("div",{style:{width:"100%"},children:[(0,O.jsx)(u.Z,{checked:!P||!o}),(0,O.jsx)(i.default,{children:(0,O.jsx)("link",{rel:"stylesheet",href:"".concat(D.cssFolder,"/loanreqtrack.css")})}),(0,O.jsx)(m.Z,{visible:!!te,width:560,footer:null,bodyStyle:{padding:"20px 0 0"},title:g.Z.t("Attachment"),onCancel:function(){ne(null)},children:(0,O.jsxs)("div",{style:{padding:16},children:[(0,O.jsxs)("div",{style:{paddingBottom:16},children:[g.Z.t("ReqDocNo")," : ",null===le||void 0===le?void 0:le.REQLOAN_DOC]}),(te||[]).map((function(e,t){return(0,O.jsx)("div",{children:(0,O.jsxs)(j.Z,{fullWidth:!0,style:{marginBottom:4,justifyContent:"space-between",borderBottom:"1px solid #e7e7e7"},onClick:function(){window.open(e.FILE_PATH)},children:[(0,O.jsxs)("div",{children:[t+1,". ",e.FILE_NAME]}),(0,O.jsx)("img",{src:e.FILE_PATH,style:{maxHeight:"2em",maxWidth:"30vw"}})]})})}))]})}),(0,O.jsx)("div",{className:"main-content",id:"main-content",style:{},children:(0,O.jsxs)("div",{className:"sub-content",children:[(0,O.jsx)(Z.Z,{th:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e43\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e01\u0e39\u0e49",en:"Loan Request Track"}),(0,O.jsx)("div",{style:{paddingBottom:10,textAlign:"right"},children:(0,O.jsxs)(R.Z,{native:!0,value:z,onChange:function(e){B(e.target.value)},variant:"outlined",inputProps:{style:{padding:"10px 32px 10px 10px"}},children:[(0,O.jsx)("option",{value:"",children:g.Z.t("All")}),(0,O.jsx)("option",{value:8,children:g.Z.t("StatusWaitAccept")}),(0,O.jsx)("option",{value:1,children:g.Z.t("StatusApprove")}),(0,O.jsx)("option",{value:-9,children:g.Z.t("StatusDisapproval")})]})}),(0,O.jsx)("div",{className:"isc-card card-shadow",style:{padding:"16px 10px",marginBottom:24},children:(0,O.jsxs)(h.Z,{spinning:W,indicator:(0,O.jsx)(f.Z,{type:"loading"}),tip:g.Z.t("Loading"),children:[(0,O.jsx)(v.Z,{className:"desc-table-assist",style:{overflow:"auto"},columns:me,bordered:!0,expandRowByClick:!0,expandIconAsCell:!1,rowKey:function(e){return e.REQLOAN_DOC},expandedRowKeys:K,expandIcon:function(e){return e.expanded?(0,O.jsx)(A.Z,{color:"primary",size:"small",style:{fontSize:"1em"},children:(0,O.jsx)(f.Z,{type:"minus-square"})}):(0,O.jsx)(A.Z,{size:"small",style:{fontSize:"1em"},children:(0,O.jsx)(f.Z,{type:"plus-square"})})},onExpand:function(e,t){J(e?[].concat((0,a.Z)(K),[t.REQLOAN_DOC]):K.filter((function(e){return e!==t.REQLOAN_DOC})))},expandedRowRender:function(e){return(0,O.jsxs)("div",{children:[(0,O.jsxs)(x.Z,{title:(0,O.jsxs)("div",{style:{paddingTop:5,display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,O.jsxs)("div",{style:{},children:[(0,O.jsxs)("div",{children:[g.Z.t("Detail")," ",e.REQLOAN_DOC]}),e.REQUEST_DATE&&(0,O.jsxs)("div",{style:{fontSize:"small",color:"#aaa",fontWeight:"normal"},children:[g.Z.t("TransactionDate")," :"," ",e.REQUEST_DATE]})]}),(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.CONTRACTDOC_URL&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,O.jsx)(j.Z,{onClick:function(){window.open(e.CONTRACTDOC_URL,"_blank")},variant:"outlined",size:"small",color:"primary",style:{marginLeft:10},children:"\u0e43\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e01\u0e39\u0e49"})}),8==e.REQ_STATUS?(0,O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,O.jsx)(E.Z,{disabled:$,icon:(0,O.jsx)(f.Z,{type:"undo"}),okText:g.Z.t("StatusLoanReqCancel"),cancelText:g.Z.t("No"),onConfirm:function(){pe(e.REQLOAN_DOC)},okButtonProps:{type:"danger",ghost:!0},placement:"top",title:g.Z.t("ConfirmCancelReq")})}):null]})]}),children:[(0,O.jsx)(x.Z.Item,{label:g.Z.t("LoanType"),className:"column-left",children:e.LOANTYPE_DESC}),e.LOANPERMIT_AMT&&(0,O.jsxs)(x.Z.Item,{label:g.Z.t("MaximumLoan"),children:[(0,S.E9)(e.LOANPERMIT_AMT||0)," ",g.Z.t("THB")]}),(0,O.jsxs)(x.Z.Item,{label:g.Z.t("Status"),children:[(0,O.jsx)(y.Z,{status:1==e.REQ_STATUS?"success":-1==e.REQ_STATUS||-9==e.REQ_STATUS||9==e.REQ_STATUS?"error":"processing",text:e.REQ_STATUS_DESC,style:{color:1==e.REQ_STATUS?"#52c41a":-1==e.REQ_STATUS||-9==e.REQ_STATUS||9==e.REQ_STATUS?"#f5222d":null}}),e.APPROVE_DATE&&(0,O.jsxs)("span",{style:{fontSize:"smaller",marginLeft:10},children:["(",e.APPROVE_DATE,")"]})]}),e.REQUEST_AMT&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("LoanAmt"),children:(0,O.jsxs)("span",{className:"link-text",style:{fontWeight:"bold"},children:[(0,S.E9)(e.REQUEST_AMT||0)," ",g.Z.t("THB")]})}),e.PERIOD&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("Period"),children:e.PERIOD}),e.PERIOD_PAYMENT&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("AmountPerInstallment"),children:(0,O.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,S.E9)(e.PERIOD_PAYMENT||0)," ",g.Z.t("THB")]})}),e.OPTION_PAY&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("PaymentType"),children:e.OPTION_PAY}),e.DIFFOLD_CONTRACT&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("Offset"),children:(0,O.jsxs)("span",{className:e.DIFFOLD_CONTRACT>0?"red-text":"",style:{fontWeight:"bold"},children:[(0,S.E9)(e.DIFFOLD_CONTRACT||0)," ",g.Z.t("THB")]})}),e.OBJECTIVE&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("Objectives"),children:e.OBJECTIVE}),e.RECEIVE_NET&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("AmountReceived"),children:(0,O.jsxs)("span",{className:"highlight-text",style:{fontSize:"1.2em",fontWeight:"bold"},children:[(0,S.E9)(e.RECEIVE_NET||0)," ",g.Z.t("THB")]})}),e.DEPTACCOUNT_NO_COOP&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("CoopAccountRecvMoney"),children:e.DEPTACCOUNT_NO_COOP}),e.PAY_DATE&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("PayDate"),children:e.PAY_DATE}),(0,O.jsx)("br",{}),e.REMARK&&(0,O.jsx)(x.Z.Item,{label:g.Z.t("Annotation"),className:"column-left",span:2,children:e.REMARK})]}),ce&&(0,O.jsx)("div",{children:(0,O.jsxs)(j.Z,{size:"small",style:{color:"white",backgroundColor:"#16a085",borderRadius:"5px",boxShadow:"0px 5px 6px rgba(20, 171, 120, 0.2)",textTransform:"unset",margin:"0 4px"},onClick:function(){de(e)},children:[(0,O.jsx)(f.Z,{type:"file",style:{marginRight:4}}),"\u0e14\u0e39\u0e44\u0e1f\u0e25\u0e4c\u0e41\u0e19\u0e1a"]})})]})},dataSource:fe,locale:{emptyText:g.Z.t("DataNotFound")}}),(0,O.jsxs)("div",{style:{textAlign:"right",opacity:.5,fontSize:"smaller"},children:[fe.length," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"]})]})})]})})]})})}))},81040:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/LoanRequestTrack",function(){return n(33519)}])}},function(e){e.O(0,[6507,5809,6253,656,9774,2888,179],(function(){return t=81040,e(e.s=t);var t}));var t=e.O();_N_E=t}]);