_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[72],{"8nNY":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SlipExtraPayment",function(){return n("qayL")}])},qayL:function(t,e,n){"use strict";n.r(e);var a=n("cpVT"),i=n("H+61"),s=n("UlJF"),r=n("7LId"),c=n("VIvw"),o=n("iHvq"),l=n("q1tI"),p=n("g4pe"),d=n.n(p),u=n("2/Rp"),h=n("CtXQ"),j=n("W9HT"),f=n("PArb"),b=n("ECub"),O=n("20a2"),m=n.n(O),g=n("WM+0"),y=n("VlGh"),x=n("xtEs"),S=n("mOvS"),v=n.n(S),P=n("Y0NT"),w=n("/MKj"),N=n("UsKZ"),_=n("0OBr"),R=(n("PHNs"),n("fmKo"),n("MoW8")),L=n("fH4n"),k=n("9kay"),E=n("nKUr");function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(o.a)(t);if(e){var i=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}N.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(N.pdfjs.version,"/pdf.worker.js");var T=v()().publicRuntimeConfig,M=function(t){Object(r.a)(n,t);var e=C(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={statusCode:200,errData:null,loading:!0,isInitialLoading:!0,pathName:"",kpListArr:[],slipDetail:[],loadingSlip:!1,loadingReport:!1,kpDetailHeader:null,isActiveListMonth:!1,isAffrix:!1,reportURL:null,reportData:{},isShowReport:!1,numPages:null,pageNumber:1,show_slip_report:!1,show_split_slip_report:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({pathName:Object(x.i)(m.a.pathname)}),this.fetchSlipExtraPayment()}},{key:"fetchSlipExtraPayment",value:function(){var t=this;this.setState({loadingSlip:!0});var e={menu_component:Object(x.i)(m.a.pathname)};g.a.fetchSlipExtraPayment(e).then((function(e){e.RESULT?t.setState({slipDetail:e.SLIP_LIST}):t.setState(I({},t.props.checkResultFalseMessage(e,{slipDetail:[]}))),t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1})})).catch((function(e){t.setState({loadingSlip:!1,loading:!1,isInitialLoading:!1}),t.setState(I({},t.props.checkCatchMessage(e)))}))}},{key:"fetchReportSlipExtraPayment",value:function(t){var e=this;this.setState({loadingSlip:!0});var n={menu_component:Object(x.i)(m.a.pathname),slip_no:t};g.a.fetchReportSlipExtraPayment(n).then((function(n){n.RESULT?(e.setState({reportData:{SLIP_NO:t}}),window.open(n.REPORT_URL,"_blank")):e.setState(I(I({},e.props.checkResultFalseMessage(n)),{},{reportURL:null,reportData:{}})),e.setState({loadingSlip:!1})})).catch((function(t){e.setState({loadingSlip:!1}),e.setState(I({},e.props.checkCatchMessage(t)))}))}},{key:"modalPDFPayment",value:function(){var t,e,n=this,a=this.state;a.pageNumber,a.numPages;return Object(E.jsx)("div",{className:"report-modal-content",children:Object(E.jsxs)("div",{className:"report-modal-body",children:[Object(E.jsxs)("div",{className:"report-modal-control",children:[Object(E.jsx)("div",{children:Object(E.jsxs)("span",{style:{fontSize:"1.2em"},children:[L.a.t("SlipExtraPayment")," ",null!==(t=this.state.reportData)&&void 0!==t&&t.SLIP_NO?"(".concat(null===(e=this.state.reportData)||void 0===e?void 0:e.SLIP_NO,")"):null]})}),Object(E.jsx)("div",{children:Object(E.jsxs)(u.a,{onClick:function(){return n.setState({isShowReport:!1})},children:[L.a.t("Close"),Object(E.jsx)(h.a,{type:"close"})]})})]}),this.state.reportURL?Object(E.jsx)(_.a,{width:"100%",height:"100%",styles:{flex:1},url:"".concat(this.state.reportURL)}):null]})})}},{key:"render",value:function(){var t=this;return this.state.statusCode>=300&&this.state.statusCode<500?Object(E.jsx)(P.default,{statusCode:this.state.statusCode,err:this.state.errData,showModalLogout:function(){return t.props.showModalLogout()}}):Object(E.jsx)("div",{className:"main-layout",style:{position:"relative"},children:Object(E.jsxs)("div",{style:{width:"100%"},children:[Object(E.jsx)(y.a,{checked:!this.state.loading||!this.state.isInitialLoading}),Object(E.jsx)(d.a,{children:Object(E.jsx)("link",{rel:"stylesheet",href:"".concat(T.cssFolder,"/slipextrapayment.css")})}),Object(E.jsx)("div",{id:"main-content",className:"main-content",style:{width:"100%"},children:Object(E.jsxs)("div",{className:"sub-content",children:[Object(E.jsx)(R.a,{th:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e40\u0e14\u0e37\u0e2d\u0e19",en:"Keeping monthly"}),this.state.isShowReport&&this.modalPDFPayment(),this.state.slipDetail.length>0?Object(E.jsx)(j.a,{spinning:this.state.loadingSlip,children:Object(E.jsx)("div",{children:this.state.slipDetail.map((function(e,n){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"header-title",style:{fontSize:"larger",fontWeight:"bold"},children:["\u0e1b\u0e35 ",e.YEAR?e.YEAR-0+543:"-"," ",Object(E.jsxs)("span",{style:{opacity:.5,fontSize:"smaller",fontWeight:"normal"},children:["( ",e.COUNT," ",L.a.t("operateType")," )"]})]}),(e.MONTH||[]).map((function(e,n){return Object(E.jsxs)("div",{children:[Object(E.jsxs)(f.a,{orientation:"left",style:{fontSize:"smaller",margin:"16px 0 4px"},children:[e.MONTH," ",Object(E.jsxs)("span",{style:{opacity:.4,fontWeight:"normal"},children:["( ",(e.SLIP||[]).length," ",L.a.t("operateType")," )"]})]}),Object(E.jsx)("div",{style:{display:"flex",margin:"0 8px"},children:(e.SLIP||[]).map((function(e,n){return Object(E.jsxs)("div",{onClick:function(){t.fetchReportSlipExtraPayment(e.SLIP_NO)},className:"card-extra-slip",children:[Object(E.jsx)("img",{src:"".concat(T.svgFolder,"/slip_extra.svg"),style:{height:"1.5em",marginRight:4}}),e.SLIP_NO]})}))})]})}))]},n)}))})}):Object(E.jsx)("div",{style:{fontSize:"small",textAlign:"center",padding:"20px 0"},children:Object(E.jsx)(b.a,{className:"empty-div",description:L.a.t("DataNotFound"),style:{fontSize:"small"},image:Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{srcSet:"".concat(T.imageFolder,"/notfound.webp"),type:"image/webp"}),Object(E.jsx)("source",{srcSet:"".concat(T.imageFolder,"/notfound.png"),type:"image/png"}),Object(E.jsx)("img",{alt:"notfound-icon",src:"".concat(T.imageFolder,"/notfound.png"),type:"image/png",style:{userSelect:"none",opacity:.6}})]})})})]})})]})})}}]),n}(l.PureComponent);e.default=Object(w.b)((function(t){return{}}),(function(t){return{}}))(Object(k.c)()(M))}},[["8nNY",2,1,4,5,7,8,11,23,0,3,6,9,10,24,26]]]);